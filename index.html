<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yngty.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="é¢„æµ‹æœªæ¥çš„æœ€å¥½æ–¹å¼å°±æ˜¯å®ç°å®ƒ">
<meta property="og:type" content="website">
<meta property="og:title" content="Symbol Crash">
<meta property="og:url" content="https://yngty.github.io/index.html">
<meta property="og:site_name" content="Symbol Crash">
<meta property="og:description" content="é¢„æµ‹æœªæ¥çš„æœ€å¥½æ–¹å¼å°±æ˜¯å®ç°å®ƒ">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="yngty">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://yngty.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Symbol Crash</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Symbol Crash" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Symbol Crash</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">ä¸å­¦æ— æœ¯</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£<span class="badge">50</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»<span class="badge">9</span></a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾<span class="badge">24</span></a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yngty.github.io/2023/08/17/network/I-O-%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="yngty">
      <meta itemprop="description" content="é¢„æµ‹æœªæ¥çš„æœ€å¥½æ–¹å¼å°±æ˜¯å®ç°å®ƒ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Symbol Crash">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/08/17/network/I-O-%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8/" class="post-title-link" itemprop="url">I/O å¤šè·¯å¤ç”¨</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-08-17 14:32:07" itemprop="dateCreated datePublished" datetime="2023-08-17T14:32:07+00:00">2023-08-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-08-19 05:41:18" itemprop="dateModified" datetime="2023-08-19T05:41:18+00:00">2023-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Network/" itemprop="url" rel="index"><span itemprop="name">Network</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>1.4k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>5 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="select"><a href="#select" class="headerlink" title="select"></a>select</h1><p><code>select</code> å®ç°å¤šè·¯å¤ç”¨çš„æ–¹å¼æ˜¯ï¼Œå°†å·²è¿æ¥çš„ <code>socket</code> éƒ½æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦é›†åˆï¼Œç„¶åè°ƒç”¨ <code>select</code>å‡½æ•°å°†æ–‡ä»¶æè¿°ç¬¦é›†åˆæ‹·è´åˆ°å†…æ ¸é‡Œï¼Œè®©å†…æ ¸æ¥æ£€æŸ¥æ˜¯å¦æœ‰ç½‘ç»œäº‹ä»¶äº§ç”Ÿï¼Œé€šè¿‡éå†æ–‡ä»¶æè¿°ç¬¦é›†åˆçš„æ–¹å¼ï¼Œå½“æ£€æŸ¥åˆ°æœ‰äº‹ä»¶äº§ç”Ÿåï¼Œå°†æ­¤ <code>socket</code> æ ‡è®°ä¸ºå¯è¯»æˆ–å¯å†™ï¼Œ æ¥ç€å†æŠŠæ•´ä¸ªæ–‡ä»¶æè¿°ç¬¦é›†åˆæ‹·è´å›ç”¨æˆ·æ€é‡Œï¼Œç„¶åç”¨æˆ·æ€è¿˜éœ€è¦å†é€šè¿‡éå†çš„æ–¹æ³•æ‰¾åˆ°å¯è¯»æˆ–å¯å†™çš„ <code>Socket</code>ï¼Œç„¶åå†å¯¹å…¶å¤„ç†ã€‚</p>
<p>æ‰€ä»¥ï¼Œå¯¹äº <code>select</code> è¿™ç§æ–¹å¼ï¼Œéœ€è¦è¿›è¡Œ <strong>2 æ¬¡ã€Œéå†ã€æ–‡ä»¶æè¿°ç¬¦é›†åˆ</strong>ï¼Œä¸€æ¬¡æ˜¯åœ¨å†…æ ¸æ€é‡Œï¼Œä¸€ä¸ªæ¬¡æ˜¯åœ¨ç”¨æˆ·æ€é‡Œ ï¼Œè€Œä¸”è¿˜ä¼šå‘ç”Ÿ <strong>2 æ¬¡ã€Œæ‹·è´ã€æ–‡ä»¶æè¿°ç¬¦é›†åˆ</strong>ï¼Œå…ˆä»ç”¨æˆ·ç©ºé—´ä¼ å…¥å†…æ ¸ç©ºé—´ï¼Œç”±å†…æ ¸ä¿®æ”¹åï¼Œå†ä¼ å‡ºåˆ°ç”¨æˆ·ç©ºé—´ä¸­ã€‚</p>
<h2 id="select-å‡½æ•°åŸå‹"><a href="#select-å‡½æ•°åŸå‹" class="headerlink" title="select å‡½æ•°åŸå‹"></a>select å‡½æ•°åŸå‹</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/select.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">select</span><span class="params">(<span class="type">int</span> nfds, fd_set *<span class="keyword">restrict</span> readfds, fd_set *<span class="keyword">restrict</span> writefds, fd_set *<span class="keyword">restrict</span> errorfds, <span class="keyword">struct</span> timeval *<span class="keyword">restrict</span> timeout)</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>è¿”å›å€¼ <ul>
<li>è‹¥æœ‰å°±ç»ªæè¿°ç¬¦åˆ™ä¸ºå…¶æ•°ç›®ï¼Œè‹¥è¶…æ—¶åˆ™ä¸º <code>0</code>ï¼Œè‹¥å‡ºé”™åˆ™ä¸º <code>-1</code></li>
</ul>
</li>
<li>å‚æ•°<ul>
<li><code>maxfd</code>: å¾…æµ‹è¯•çš„æè¿°ç¬¦åŸºæ•°ï¼Œå®ƒçš„å€¼æ˜¯å¾…æµ‹è¯•çš„æœ€å¤§æè¿°ç¬¦åŠ  <code>1</code></li>
<li><code>readfds</code>ï¼šè¯»æè¿°ç¬¦é›†åˆ</li>
<li><code>writefds</code>ï¼šå†™æè¿°ç¬¦é›†åˆ</li>
<li><code>errorfds</code>ï¼šå¼‚å¸¸æè¿°ç¬¦é›†åˆ</li>
<li><code>timeout</code>: è¶…æ—¶è®¾ç½®</li>
</ul>
</li>
</ul>
<h2 id="æ“ä½œæè¿°é›†åˆ"><a href="#æ“ä½œæè¿°é›†åˆ" class="headerlink" title="æ“ä½œæè¿°é›†åˆ"></a>æ“ä½œæè¿°é›†åˆ</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">FD_ZERO</span><span class="params">(fd_set *fdset)</span>;ã€€ã€€ã€€ã€€ã€€ã€€</span><br><span class="line"><span class="type">void</span> <span class="title function_">FD_SET</span><span class="params">(<span class="type">int</span> fd, fd_set *fdset)</span>;ã€€ã€€</span><br><span class="line"><span class="type">void</span> <span class="title function_">FD_CLR</span><span class="params">(<span class="type">int</span> fd, fd_set *fdset)</span>;ã€€ã€€ã€€</span><br><span class="line"><span class="type">int</span>  <span class="title function_">FD_ISSET</span><span class="params">(<span class="type">int</span> fd, fd_set *fdset)</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>FD_ZERO</code> æ¸…ç©ºæè¿°ç¬¦é›†åˆï¼›</li>
<li><code>FD_SET</code> å‘æè¿°ç¬¦é›†åˆå¢åŠ  <code>fd</code>ï¼›</li>
<li><code>FD_CLR</code> å‘æè¿°ç¬¦é›†åˆåˆ é™¤ <code>fd</code>ï¼›</li>
<li><code>FD_ISSET</code> åˆ¤æ–­æè¿°ç¬¦é›†åˆä¸­çš„ <code>fd</code> æ˜¯å¦æœ‰å“åº”ï¼›</li>
</ul>
<h2 id="è¶…æ—¶è®¾ç½®"><a href="#è¶…æ—¶è®¾ç½®" class="headerlink" title="è¶…æ—¶è®¾ç½®"></a>è¶…æ—¶è®¾ç½®</h2><p><code>timeval</code> ç»“æ„ä½“æ—¶é—´: </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">timeval</span> &#123;</span></span><br><span class="line">  <span class="type">long</span>   tv_sec; <span class="comment">/* seconds */</span></span><br><span class="line">  <span class="type">long</span>   tv_usec; <span class="comment">/* microseconds */</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æœ€åä¸€ä¸ªå‚æ•°,å¯ä»¥è®¾ç½® <code>3</code> ç§å€¼:</p>
<ul>
<li>è®¾ç½®æˆç©º <code>(NULL)</code>ï¼Œè¡¨ç¤ºå¦‚æœæ²¡æœ‰ <code>I/O</code> äº‹ä»¶å‘ç”Ÿï¼Œåˆ™ <code>select</code> ä¸€ç›´ç­‰å¾…ä¸‹å»</li>
<li>è®¾ç½®ä¸€ä¸ªéé›¶çš„å€¼ï¼Œç­‰å¾…è¶…æ—¶æ—¶é—´é˜»å¡è¿”å›</li>
<li><code>tv_sec</code> å’Œ <code>tv_usec</code> éƒ½è®¾ç½®æˆ <code>0</code>ï¼Œè¡¨ç¤ºä¸ç­‰å¾…ï¼Œæ£€æµ‹å®Œæ¯•ç«‹å³è¿”å›</li>
</ul>
<h2 id="ä½¿ç”¨-ğŸŒ°"><a href="#ä½¿ç”¨-ğŸŒ°" class="headerlink" title="ä½¿ç”¨ ğŸŒ°"></a>ä½¿ç”¨ ğŸŒ°</h2><p>åœ¨ä½¿ç”¨ <code>select</code> æ—¶, ä¸¤ä¸ªæ³¨æ„ç‚¹:</p>
<ul>
<li><strong>æè¿°ç¬¦åŸºæ•°æ˜¯å½“å‰æœ€å¤§æè¿°ç¬¦ +1ï¼›</strong></li>
<li><strong>æ¯æ¬¡ <code>select</code> è°ƒç”¨å®Œæˆä¹‹åï¼Œè¦é‡ç½®å¾…æµ‹è¯•é›†åˆã€‚</strong></li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> socket_fd = ...;</span><br><span class="line">fd_set ready_fds;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">   FD_ZERO(&amp;read_fds);</span><br><span class="line">   FD_SET(socket_fd, &amp;read_fds);</span><br><span class="line">   <span class="type">int</span> rc = select(socket_fd + <span class="number">1</span>, &amp;read_fds, <span class="literal">NULL</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>);</span><br><span class="line">   <span class="keyword">if</span> (rc == <span class="number">-1</span>) &#123;</span><br><span class="line">       perror(<span class="string">&quot;select&quot;</span>);</span><br><span class="line">       <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (FD_ISSET(socket_fd, &amp;read_fds)) &#123;</span><br><span class="line">       ...</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>**<code>select</code> æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œé‚£å°±æ˜¯æ‰€æ”¯æŒçš„æ–‡ä»¶æè¿°ç¬¦çš„ä¸ªæ•°æ˜¯æœ‰é™çš„ã€‚åœ¨ <code>Linux</code> ç³»ç»Ÿä¸­ï¼Œ<code>select</code> çš„é»˜è®¤æœ€å¤§å€¼ä¸º <code>1024</code>**ã€‚</p>
<h1 id="poll"><a href="#poll" class="headerlink" title="poll"></a><code>poll</code></h1><p><code>poll</code> å¯ä»¥çªç ´ <code>select</code> æ–‡ä»¶æè¿°ç¬¦çš„ä¸ªæ•°é™åˆ¶ï¼Œ å‡½æ•°åŸå‹å¦‚ä¸‹: </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">poll</span><span class="params">(<span class="keyword">struct</span> pollfd *fds, <span class="type">unsigned</span> <span class="type">long</span> nfds, <span class="type">int</span> timeout)</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>è¿”å›å€¼<ul>
<li>è‹¥æœ‰å°±ç»ªæè¿°ç¬¦åˆ™ä¸ºå…¶æ•°ç›®ï¼Œè‹¥è¶…æ—¶åˆ™ä¸º <code>0</code>ï¼Œè‹¥å‡ºé”™åˆ™ä¸º <code>-1</code></li>
</ul>
</li>
<li>å‚æ•°<ul>
<li><code>fds</code>: <code>pollfd</code>æ•°ç»„</li>
<li><code>nfds</code>: æè¿° <code>fds</code>æ•°ç»„çš„å¤§å°</li>
<li><code>timeout</code>: è¶…æ—¶è®¾ç½®, å•ä½ <code>ms</code></li>
</ul>
</li>
</ul>
<h2 id="pollfdæ•°ç»„"><a href="#pollfdæ•°ç»„" class="headerlink" title="pollfdæ•°ç»„"></a><code>pollfd</code>æ•°ç»„</h2><p><code>pollfd</code> ç»“æ„å¦‚ä¸‹:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">pollfd</span> &#123;</span></span><br><span class="line">    <span class="type">int</span>    fd;       <span class="comment">/* file descriptor */</span></span><br><span class="line">    <span class="type">short</span>  events;   <span class="comment">/* events to look for */</span></span><br><span class="line">    <span class="type">short</span>  revents;  <span class="comment">/* events returned */</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>fd</code>: æ–‡ä»¶æè¿°</li>
<li><code>events</code>: å¾…æ£€æµ‹çš„äº‹ä»¶ç±»å‹</li>
<li><code>revents</code>:  å“åº”çš„äº‹ä»¶ç±»å‹</li>
</ul>
<p><code>events</code> ç±»å‹çš„äº‹ä»¶å¯ä»¥åˆ†ä¸ºä¸‰å¤§ç±»ã€‚</p>
<p>ç¬¬ä¸€ç±»æ˜¯å¯è¯»äº‹ä»¶ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> POLLIN          0x0001          <span class="comment">/* any readable data available */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> POLLPRI         0x0002          <span class="comment">/* OOB/Urgent readable data */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> POLLRDNORM      0x0040          <span class="comment">/* non-OOB/URG data available */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> POLLRDBAND      0x0080          <span class="comment">/* OOB/Urgent readable data */</span></span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ <code>POLLOUT</code>, ç³»ç»Ÿå†…æ ¸é€šçŸ¥å¥—æ¥å­—ç¼“å†²åŒºå·²å‡†å¤‡å¥½ï¼Œé€šè¿‡ <code>read</code> å‡½æ•°æ‰§è¡Œè¯»æ“ä½œä¸ä¼šè¢«é˜»å¡ã€‚</p>
<p>ç¬¬äºŒç±»æ˜¯å¯å†™äº‹ä»¶ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> POLLOUT         0x0004          <span class="comment">/* file descriptor is writeable */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> POLLWRNORM      POLLOUT         <span class="comment">/* no write type differentiation */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> POLLWRBAND      0x0100          <span class="comment">/* OOB/Urgent data can be written */</span></span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ <code>POLLOUT</code>, ç³»ç»Ÿå†…æ ¸é€šçŸ¥å¥—æ¥å­—ç¼“å†²åŒºå·²å‡†å¤‡å¥½ï¼Œé€šè¿‡ <code>write</code> å‡½æ•°æ‰§è¡Œå†™æ“ä½œä¸ä¼šè¢«é˜»å¡ã€‚</p>
<p>è¿˜æœ‰å¦ä¸€å¤§ç±»æ˜¯é”™è¯¯äº‹ä»¶ï¼Œæ²¡æœ‰åŠæ³•é€šè¿‡ <code>poll</code> å‘ç³»ç»Ÿå†…æ ¸é€’äº¤æ£€æµ‹è¯·æ±‚ï¼Œåªèƒ½é€šè¿‡ <code>returned events</code>æ¥åŠ ä»¥æ£€æµ‹:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> POLLERR    0x0008    <span class="comment">/* ä¸€äº›é”™è¯¯å‘é€ */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> POLLHUP    0x0010    <span class="comment">/* æè¿°ç¬¦æŒ‚èµ· */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> POLLNVAL   0x0020    <span class="comment">/* è¯·æ±‚çš„äº‹ä»¶æ— æ•ˆ */</span></span></span><br></pre></td></tr></table></figure>

<p><strong>ä¸æƒ³å¯¹æŸä¸ª <code>pollfd</code> ç»“æ„è¿›è¡Œäº‹ä»¶æ£€æµ‹</strong>ï¼Œå¯ä»¥æŠŠå®ƒå¯¹åº”çš„ <code>pollfd</code> ç»“æ„çš„ <code>fd</code> æˆå‘˜è®¾ç½®æˆä¸€ä¸ª<strong>è´Ÿå€¼</strong>ã€‚è¿™æ ·ï¼Œ<code>poll</code> å‡½æ•°å°†å¿½ç•¥è¿™æ ·çš„ <code>events</code> äº‹ä»¶ï¼Œæ£€æµ‹å®Œæˆä»¥åï¼Œæ‰€å¯¹åº”çš„<code>returned events</code>çš„æˆå‘˜å€¼ä¹Ÿå°†è®¾ç½®ä¸º <code>0</code>ã€‚</p>
<h2 id="è¶…æ—¶è®¾ç½®-1"><a href="#è¶…æ—¶è®¾ç½®-1" class="headerlink" title="è¶…æ—¶è®¾ç½®"></a>è¶…æ—¶è®¾ç½®</h2><ul>
<li><code>&lt; 0</code>ï¼Œè¡¨ç¤ºå¦‚æœæ²¡æœ‰ <code>I/O</code> äº‹ä»¶å‘ç”Ÿï¼Œåˆ™ <code>poll</code> ä¸€ç›´ç­‰å¾…ä¸‹å»</li>
<li><code>&gt; 0</code>ï¼Œç­‰å¾…è¶…æ—¶æ—¶é—´é˜»å¡è¿”å›</li>
<li><code>= 0</code>ï¼Œè¡¨ç¤ºä¸ç­‰å¾…ï¼Œæ£€æµ‹å®Œæ¯•ç«‹å³è¿”å›</li>
</ul>
<h2 id="ä½¿ç”¨-ğŸŒ°-1"><a href="#ä½¿ç”¨-ğŸŒ°-1" class="headerlink" title="ä½¿ç”¨ ğŸŒ°"></a>ä½¿ç”¨ ğŸŒ°</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> INIT_SIZE 128</span></span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **argv)</span> &#123;</span><br><span class="line">    <span class="type">int</span> listen_fd, connected_fd;</span><br><span class="line">    <span class="type">int</span> ready_number;</span><br><span class="line">    <span class="type">ssize_t</span> n;</span><br><span class="line">    <span class="type">char</span> buf[MAXLINE];</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">client_addr</span>;</span></span><br><span class="line"> </span><br><span class="line">    listen_fd = tcp_server_listen(SERV_PORT);</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// åˆå§‹åŒ– pollfd æ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ listen_fdï¼Œå…¶ä½™çš„ç”¨æ¥è®°å½•å°†è¦è¿æ¥çš„ connect_fd</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">pollfd</span> <span class="title">event_set</span>[<span class="title">INIT_SIZE</span>];</span></span><br><span class="line">    event_set[<span class="number">0</span>].fd = listen_fd;</span><br><span class="line">    event_set[<span class="number">0</span>].events = POLLRDNORM;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// ç”¨ -1 è¡¨ç¤ºè¿™ä¸ªæ•°ç»„ä½ç½®è¿˜æ²¡æœ‰è¢«å ç”¨</span></span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; INIT_SIZE; i++) &#123;</span><br><span class="line">        event_set[i].fd = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (;;) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((ready_number = poll(event_set, INIT_SIZE, <span class="number">-1</span>)) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            error(<span class="number">1</span>, errno, <span class="string">&quot;poll failed &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (event_set[<span class="number">0</span>].revents &amp; POLLRDNORM) &#123;</span><br><span class="line">            <span class="type">socklen_t</span> client_len = <span class="keyword">sizeof</span>(client_addr);</span><br><span class="line">            connected_fd = accept(listen_fd, (<span class="keyword">struct</span> sockaddr *) &amp;client_addr, &amp;client_len);</span><br><span class="line"> </span><br><span class="line">            <span class="comment">// æ‰¾åˆ°ä¸€ä¸ªå¯ä»¥è®°å½•è¯¥è¿æ¥å¥—æ¥å­—çš„ä½ç½®</span></span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; INIT_SIZE; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (event_set[i].fd &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                    event_set[i].fd = connected_fd;</span><br><span class="line">                    event_set[i].events = POLLRDNORM;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">if</span> (i == INIT_SIZE) &#123;</span><br><span class="line">                error(<span class="number">1</span>, errno, <span class="string">&quot;can not hold so many clients&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">if</span> (--ready_number &lt;= <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; INIT_SIZE; i++) &#123;</span><br><span class="line">            <span class="type">int</span> socket_fd;</span><br><span class="line">            <span class="keyword">if</span> ((socket_fd = event_set[i].fd) &lt; <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (event_set[i].revents &amp; (POLLRDNORM | POLLERR)) &#123;</span><br><span class="line">                <span class="keyword">if</span> ((n = read(socket_fd, buf, MAXLINE)) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (write(socket_fd, buf, n) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                        error(<span class="number">1</span>, errno, <span class="string">&quot;write error&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (n == <span class="number">0</span> || errno == ECONNRESET) &#123;</span><br><span class="line">                    close(socket_fd);</span><br><span class="line">                    event_set[i].fd = <span class="number">-1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    error(<span class="number">1</span>, errno, <span class="string">&quot;read error&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line"> </span><br><span class="line">                <span class="keyword">if</span> (--ready_number &lt;= <span class="number">0</span>)</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="epoll"><a href="#epoll" class="headerlink" title="epoll"></a>epoll</h1>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yngty.github.io/2023/07/25/network/TCP-%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="yngty">
      <meta itemprop="description" content="é¢„æµ‹æœªæ¥çš„æœ€å¥½æ–¹å¼å°±æ˜¯å®ç°å®ƒ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Symbol Crash">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/25/network/TCP-%E5%8D%8F%E8%AE%AE/" class="post-title-link" itemprop="url">TCP åè®®</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-07-25 09:43:58" itemprop="dateCreated datePublished" datetime="2023-07-25T09:43:58+00:00">2023-07-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-08-19 05:41:18" itemprop="dateModified" datetime="2023-08-19T05:41:18+00:00">2023-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Network/" itemprop="url" rel="index"><span itemprop="name">Network</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>1.3k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>5 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="TCP-åŸºæœ¬è®¤è¯†"><a href="#TCP-åŸºæœ¬è®¤è¯†" class="headerlink" title="TCP åŸºæœ¬è®¤è¯†"></a><code>TCP</code> åŸºæœ¬è®¤è¯†</h1><p><code>TCP</code> æ˜¯ <strong>é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµ</strong>çš„ä¼ è¾“å±‚é€šä¿¡åè®®ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> 0                   1                   2                   3 </span><br><span class="line"> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 </span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|          Source Port          |       Destination Port        |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|                        Sequence Number                        |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|                    Acknowledgment Number                      |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|  Data |           |U|A|P|R|S|F|                               |</span><br><span class="line">| Offset| Reserved  |R|C|S|S|Y|I|            Window             |</span><br><span class="line">|       |           |G|K|H|T|N|N|                               |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|           Checksum            |         Urgent Pointer        |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|                    Options                    |    Padding    |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|                             data                              |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br></pre></td></tr></table></figure>


<p><code>TCP</code> è¿æ¥çŠ¶æ€å›¾</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">                             +---------+ ---------\      active OPEN  </span><br><span class="line">                             |  CLOSED |            \    -----------  </span><br><span class="line">                             +---------+&lt;---------\   \   create TCB  </span><br><span class="line">                               |     ^              \   \  snd SYN    </span><br><span class="line">                  passive OPEN |     |   CLOSE        \   \           </span><br><span class="line">                  ------------ |     | ----------       \   \         </span><br><span class="line">                   create TCB  |     | delete TCB         \   \       </span><br><span class="line">                               V     |                      \   \     </span><br><span class="line">                             +---------+            CLOSE    |    \   </span><br><span class="line">                             |  LISTEN |          ---------- |     |  </span><br><span class="line">                             +---------+          delete TCB |     |  </span><br><span class="line">                  rcv SYN      |     |     SEND              |     |  </span><br><span class="line">                 -----------   |     |    -------            |     V  </span><br><span class="line">+---------+      snd SYN,ACK  /       \   snd SYN          +---------+</span><br><span class="line">|         |&lt;-----------------           ------------------&gt;|         |</span><br><span class="line">|   SYN   |                    rcv SYN                     |   SYN   |</span><br><span class="line">|   RCVD  |&lt;-----------------------------------------------|   SENT  |</span><br><span class="line">|         |                    snd ACK                     |         |</span><br><span class="line">|         |------------------           -------------------|         |</span><br><span class="line">+---------+   rcv ACK of SYN  \       /  rcv SYN,ACK       +---------+</span><br><span class="line">  |           --------------   |     |   -----------                  </span><br><span class="line">  |                  x         |     |     snd ACK                    </span><br><span class="line">  |                            V     V                                </span><br><span class="line">  |  CLOSE                   +---------+                              </span><br><span class="line">  | -------                  |  ESTAB  |                              </span><br><span class="line">  | snd FIN                  +---------+                              </span><br><span class="line">  |                   CLOSE    |     |    rcv FIN                     </span><br><span class="line">  V                  -------   |     |    -------                     </span><br><span class="line">+---------+          snd FIN  /       \   snd ACK          +---------+</span><br><span class="line">|  FIN    |&lt;-----------------           ------------------&gt;|  CLOSE  |</span><br><span class="line">| WAIT-1  |------------------                              |   WAIT  |</span><br><span class="line">+---------+          rcv FIN  \                            +---------+</span><br><span class="line">  | rcv ACK of FIN   -------   |                            CLOSE  |  </span><br><span class="line">  | --------------   snd ACK   |                           ------- |  </span><br><span class="line">  V        x                   V                           snd FIN V  </span><br><span class="line">+---------+                  +---------+                   +---------+</span><br><span class="line">|FINWAIT-2|                  | CLOSING |                   | LAST-ACK|</span><br><span class="line">+---------+                  +---------+                   +---------+</span><br><span class="line">  |                rcv ACK of FIN |                 rcv ACK of FIN |  </span><br><span class="line">  |  rcv FIN       -------------- |    Timeout=2MSL -------------- |  </span><br><span class="line">  |  -------              x       V    ------------        x       V  </span><br><span class="line">   \ snd ACK                 +---------+delete TCB         +---------+</span><br><span class="line">    ------------------------&gt;|TIME WAIT|------------------&gt;| CLOSED  |</span><br><span class="line">                             +---------+                   +---------+</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="å¦‚ä½•å”¯ä¸€ç¡®å®šä¸€ä¸ª-TCP-è¿æ¥"><a href="#å¦‚ä½•å”¯ä¸€ç¡®å®šä¸€ä¸ª-TCP-è¿æ¥" class="headerlink" title="å¦‚ä½•å”¯ä¸€ç¡®å®šä¸€ä¸ª TCP è¿æ¥?"></a>å¦‚ä½•å”¯ä¸€ç¡®å®šä¸€ä¸ª <code>TCP</code> è¿æ¥?</h2><p><strong><code>TCP</code> å››å…ƒç»„</strong>å¯ä»¥å”¯ä¸€çš„ç¡®å®šä¸€ä¸ªè¿æ¥ï¼Œå››å…ƒç»„åŒ…æ‹¬å¦‚ä¸‹ï¼š</p>
<ul>
<li>æºåœ°å€</li>
<li>æºç«¯å£</li>
<li>ç›®çš„åœ°å€</li>
<li>ç›®çš„ç«¯å£</li>
</ul>
<h1 id="TCP-è¿æ¥å»ºç«‹"><a href="#TCP-è¿æ¥å»ºç«‹" class="headerlink" title="TCP è¿æ¥å»ºç«‹"></a><code>TCP</code> è¿æ¥å»ºç«‹</h1><h2 id="ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹"></a>ä¸‰æ¬¡æ¡æ‰‹</h2><ul>
<li>é˜²æ­¢å†å²è¿æ¥</li>
<li>é¿å…èµ„æºæµªè´¹</li>
<li>åŒæ­¥åŒæ–¹åˆå§‹åºåˆ—å·</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    TCP A                                                TCP B</span><br><span class="line"></span><br><span class="line">1.  CLOSED                                               LISTEN</span><br><span class="line"></span><br><span class="line">2.  SYN-SENT    --&gt; &lt;SEQ=100&gt;&lt;CTL=SYN&gt;               --&gt; SYN-RECEIVED</span><br><span class="line"></span><br><span class="line">3.  ESTABLISHED &lt;-- &lt;SEQ=300&gt;&lt;ACK=101&gt;&lt;CTL=SYN,ACK&gt;  &lt;-- SYN-RECEIVED</span><br><span class="line"></span><br><span class="line">4.  ESTABLISHED --&gt; &lt;SEQ=101&gt;&lt;ACK=301&gt;&lt;CTL=ACK&gt;       --&gt; ESTABLISHED</span><br><span class="line"></span><br><span class="line">5.  ESTABLISHED --&gt; &lt;SEQ=101&gt;&lt;ACK=301&gt;&lt;CTL=ACK&gt;&lt;DATA&gt; --&gt; ESTABLISHED</span><br></pre></td></tr></table></figure>

<h1 id="é‡ä¼ æœºåˆ¶"><a href="#é‡ä¼ æœºåˆ¶" class="headerlink" title="é‡ä¼ æœºåˆ¶"></a>é‡ä¼ æœºåˆ¶</h1><p><code>TCP</code> é’ˆå¯¹æ•°æ®åŒ…ä¸¢å¤±çš„æƒ…å†µï¼Œä¼šç”¨é‡ä¼ æœºåˆ¶è§£å†³ã€‚</p>
<h2 id="è¶…æ—¶é‡ä¼ "><a href="#è¶…æ—¶é‡ä¼ " class="headerlink" title="è¶…æ—¶é‡ä¼ "></a>è¶…æ—¶é‡ä¼ </h2><p><code>RTT</code>ï¼ˆ<code>Round-Trip Time</code> å¾€è¿”æ—¶å»¶ï¼‰æŒ‡çš„æ˜¯æ•°æ®å‘é€æ—¶åˆ»åˆ°æ¥æ”¶åˆ°ç¡®è®¤çš„æ—¶åˆ»çš„å·®å€¼ï¼Œä¹Ÿå°±æ˜¯åŒ…çš„å¾€è¿”æ—¶é—´ã€‚</p>
<p>è¶…æ—¶é‡ä¼ æ—¶é—´æ˜¯ä»¥ <code>RTO</code> ï¼ˆ<code>Retransmission Timeout</code>ï¼‰è¡¨ç¤ºã€‚</p>
<p>ç²¾ç¡®çš„æµ‹é‡è¶…æ—¶æ—¶é—´ <code>RTO</code> çš„å€¼æ˜¯éå¸¸é‡è¦çš„ï¼Œè¿™å¯è®©æˆ‘ä»¬çš„é‡ä¼ æœºåˆ¶æ›´é«˜æ•ˆã€‚</p>
<ul>
<li>å½“è¶…æ—¶æ—¶é—´ <code>RTO</code> è¾ƒå¤§æ—¶ï¼Œé‡å‘å°±æ…¢ï¼Œä¸¢äº†è€åŠå¤©æ‰é‡å‘ï¼Œæ²¡æœ‰æ•ˆç‡ï¼Œæ€§èƒ½å·®ï¼›</li>
<li>å½“è¶…æ—¶æ—¶é—´ <code>RTO</code> è¾ƒå°æ—¶ï¼Œä¼šå¯¼è‡´å¯èƒ½å¹¶æ²¡æœ‰ä¸¢å°±é‡å‘ï¼Œäºæ˜¯é‡å‘çš„å°±å¿«ï¼Œä¼šå¢åŠ ç½‘ç»œæ‹¥å¡ï¼Œå¯¼è‡´æ›´å¤šçš„è¶…æ—¶ï¼Œæ›´å¤šçš„è¶…æ—¶å¯¼è‡´æ›´å¤šçš„é‡å‘ã€‚</li>
</ul>
<p>æ ¹æ®ä¸Šè¿°çš„ä¸¤ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥å¾—çŸ¥ï¼Œè¶…æ—¶é‡ä¼ æ—¶é—´ <code>RTO</code> çš„å€¼åº”è¯¥ç•¥å¤§äºæŠ¥æ–‡å¾€è¿” <code>RTT</code> çš„å€¼ã€‚å› ä¸ºç½‘ç»œä¹Ÿæ˜¯æ—¶å¸¸å˜åŒ–çš„ï¼Œæ‰€ä»¥ <code>RTO</code> æ˜¯ä¸€ä¸ªåŠ¨æ€å˜åŒ–çš„å€¼ã€‚</p>
<p>æ¯å½“é‡åˆ°ä¸€æ¬¡è¶…æ—¶é‡ä¼ çš„æ—¶å€™ï¼Œéƒ½ä¼šå°†ä¸‹ä¸€æ¬¡ <code>RTO</code> è®¾ä¸º<strong>å…ˆå‰å€¼çš„ä¸¤å€</strong>ã€‚ä¸¤æ¬¡è¶…æ—¶ï¼Œå°±è¯´æ˜ç½‘ç»œç¯å¢ƒå·®ï¼Œä¸å®œé¢‘ç¹åå¤å‘é€ã€‚</p>
<h2 id="å¿«é€Ÿé‡ä¼ "><a href="#å¿«é€Ÿé‡ä¼ " class="headerlink" title="å¿«é€Ÿé‡ä¼ "></a>å¿«é€Ÿé‡ä¼ </h2><p>å½“æ”¶åˆ°ä¸‰ä¸ªç›¸åŒçš„ <code>ACK</code> æŠ¥æ–‡æ—¶ï¼Œä¼šåœ¨å®šæ—¶å™¨è¿‡æœŸä¹‹å‰ï¼Œé‡ä¼ ä¸¢å¤±çš„æŠ¥æ–‡æ®µã€‚å¿«é€Ÿé‡ä¼ æœºåˆ¶åªè§£å†³äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è¶…æ—¶æ—¶é—´çš„é—®é¢˜ï¼Œä½†æ˜¯å®ƒä¾ç„¶é¢ä¸´ç€å¦å¤–ä¸€ä¸ªé—®é¢˜ã€‚å°±æ˜¯é‡ä¼ çš„æ—¶å€™ï¼Œæ˜¯é‡ä¼ ä¸€ä¸ªï¼Œè¿˜æ˜¯é‡ä¼ æ‰€æœ‰çš„é—®é¢˜ã€‚ä¸ºäº†è§£å†³ä¸çŸ¥é“è¯¥é‡ä¼ å“ªäº› <code>TCP</code> æŠ¥æ–‡ï¼Œäºæ˜¯å°±æœ‰ <code>SACK</code> æ–¹æ³•ã€‚</p>
<h2 id="SACK"><a href="#SACK" class="headerlink" title="SACK"></a>SACK</h2><p><code>SACK</code>ï¼ˆ<code>Selective Acknowledgment</code>ï¼‰ï¼Œé€‰æ‹©æ€§ç¡®è®¤ã€‚åœ¨ <code>TCP</code> å¤´éƒ¨ã€Œé€‰é¡¹ã€å­—æ®µé‡ŒåŠ ä¸€ä¸ª <code>SACK</code> ï¼Œå®ƒå¯ä»¥å°†å·²æ”¶åˆ°çš„æ•°æ®çš„ä¿¡æ¯å‘é€ç»™ <strong>ã€Œå‘é€æ–¹ã€</strong>ï¼Œè¿™æ ·å‘é€æ–¹å°±å¯ä»¥çŸ¥é“å“ªäº›æ•°æ®æ”¶åˆ°äº†ï¼Œå“ªäº›æ•°æ®æ²¡æ”¶åˆ°ï¼ŒçŸ¥é“äº†è¿™äº›ä¿¡æ¯ï¼Œå°±å¯ä»¥ <strong>åªé‡ä¼ ä¸¢å¤±çš„æ•°æ®</strong>ã€‚</p>
<blockquote>
<p>åœ¨ <code>Linux</code> ä¸‹å¯ä»¥é€šè¿‡ <code>net.ipv4.tcp_sack</code> å‚æ•°å¼€å¯&#x2F;å…³é—­è¿™ä¸ªåŠŸèƒ½ï¼ˆ<code>Linux 2.4</code> åé»˜è®¤æ‰“å¼€ï¼‰ã€‚</p>
</blockquote>
<h2 id="D-SACK"><a href="#D-SACK" class="headerlink" title="D-SACK"></a>D-SACK</h2><p><code>D-SACK</code> (<code>Duplicate SACK</code>) ï¼Œå…¶ä¸»è¦ä½¿ç”¨äº† <code>SACK</code> æ¥å‘Šè¯‰ <strong>ã€Œå‘é€æ–¹ã€</strong>æœ‰å“ªäº›æ•°æ®è¢«é‡å¤æ¥æ”¶äº†ã€‚</p>
<p><code>D-SACK</code> æœ‰è¿™ä¹ˆå‡ ä¸ªå¥½å¤„ï¼š</p>
<ul>
<li>å¯ä»¥è®©ã€Œå‘é€æ–¹ã€çŸ¥é“ï¼Œæ˜¯å‘å‡ºå»çš„åŒ…ä¸¢äº†ï¼Œè¿˜æ˜¯æ¥æ”¶æ–¹å›åº”çš„ ACK åŒ…ä¸¢äº†;</li>
<li>å¯ä»¥çŸ¥é“æ˜¯ä¸æ˜¯ã€Œå‘é€æ–¹ã€çš„æ•°æ®åŒ…è¢«ç½‘ç»œå»¶è¿Ÿäº†;</li>
<li>å¯ä»¥çŸ¥é“ç½‘ç»œä¸­æ˜¯ä¸æ˜¯æŠŠã€Œå‘é€æ–¹ã€çš„æ•°æ®åŒ…ç»™å¤åˆ¶äº†;</li>
</ul>
<blockquote>
<p>åœ¨ <code>Linux</code> ä¸‹å¯ä»¥é€šè¿‡ <code>net.ipv4.tcp_dsack</code> å‚æ•°å¼€å¯&#x2F;å…³é—­è¿™ä¸ªåŠŸèƒ½ï¼ˆ<code>Linux 2.4</code> åé»˜è®¤æ‰“å¼€ï¼‰ã€‚</p>
</blockquote>
<h1 id="æ»‘åŠ¨çª—å£"><a href="#æ»‘åŠ¨çª—å£" class="headerlink" title="æ»‘åŠ¨çª—å£"></a>æ»‘åŠ¨çª—å£</h1><h2 id="å‘é€çª—å£"><a href="#å‘é€çª—å£" class="headerlink" title="å‘é€çª—å£"></a>å‘é€çª—å£</h2><h2 id="æ¥æ”¶çª—å£"><a href="#æ¥æ”¶çª—å£" class="headerlink" title="æ¥æ”¶çª—å£"></a>æ¥æ”¶çª—å£</h2><h1 id="æµé‡æ§åˆ¶"><a href="#æµé‡æ§åˆ¶" class="headerlink" title="æµé‡æ§åˆ¶"></a>æµé‡æ§åˆ¶</h1><p>å‘é€æ–¹ä¸èƒ½æ— è„‘çš„å‘æ•°æ®ç»™æ¥æ”¶æ–¹ï¼Œè¦è€ƒè™‘æ¥æ”¶æ–¹å¤„ç†èƒ½åŠ›ã€‚</p>
<p>å¦‚æœä¸€ç›´æ— è„‘çš„å‘æ•°æ®ç»™å¯¹æ–¹ï¼Œä½†å¯¹æ–¹å¤„ç†ä¸è¿‡æ¥ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´è§¦å‘é‡å‘æœºåˆ¶ï¼Œä»è€Œå¯¼è‡´ç½‘ç»œæµé‡çš„æ— ç«¯çš„æµªè´¹ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ç§ç°è±¡å‘ç”Ÿï¼Œ**<code>TCP</code> æä¾›ä¸€ç§æœºåˆ¶å¯ä»¥è®©ã€Œå‘é€æ–¹ã€æ ¹æ®ã€Œæ¥æ”¶æ–¹ã€çš„å®é™…æ¥æ”¶èƒ½åŠ›æ§åˆ¶å‘é€çš„æ•°æ®é‡ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„æµé‡æ§åˆ¶ã€‚**</p>
<h2 id="æ“ä½œç³»ç»Ÿç¼“å†²åŒºå’Œæ»‘åŠ¨çª—å£çš„å…³ç³»"><a href="#æ“ä½œç³»ç»Ÿç¼“å†²åŒºå’Œæ»‘åŠ¨çª—å£çš„å…³ç³»" class="headerlink" title="æ“ä½œç³»ç»Ÿç¼“å†²åŒºå’Œæ»‘åŠ¨çª—å£çš„å…³ç³»"></a>æ“ä½œç³»ç»Ÿç¼“å†²åŒºå’Œæ»‘åŠ¨çª—å£çš„å…³ç³»</h2><h2 id="çª—å£å…³é—­"><a href="#çª—å£å…³é—­" class="headerlink" title="çª—å£å…³é—­"></a>çª—å£å…³é—­</h2><p>å¦‚æœçª—å£å¤§å°ä¸º <code>0</code> æ—¶ï¼Œå°±ä¼šé˜»æ­¢å‘é€æ–¹ç»™æ¥æ”¶æ–¹ä¼ é€’æ•°æ®ï¼Œç›´åˆ°çª—å£å˜ä¸ºé <code>0</code> ä¸ºæ­¢ï¼Œè¿™å°±æ˜¯çª—å£å…³é—­ã€‚</p>
<h2 id="ç³Šæ¶‚çª—å£ç»¼åˆç—‡"><a href="#ç³Šæ¶‚çª—å£ç»¼åˆç—‡" class="headerlink" title="ç³Šæ¶‚çª—å£ç»¼åˆç—‡"></a>ç³Šæ¶‚çª—å£ç»¼åˆç—‡</h2><h1 id="æ‹¥å¡æ§åˆ¶"><a href="#æ‹¥å¡æ§åˆ¶" class="headerlink" title="æ‹¥å¡æ§åˆ¶"></a>æ‹¥å¡æ§åˆ¶</h1><h2 id="æ…¢å¯åŠ¨"><a href="#æ…¢å¯åŠ¨" class="headerlink" title="æ…¢å¯åŠ¨"></a>æ…¢å¯åŠ¨</h2><p>æ…¢å¯åŠ¨å°±æ˜¯ä¸€ç‚¹ä¸€ç‚¹çš„æé«˜å‘é€æ•°æ®åŒ…çš„æ•°é‡, <strong>å½“å‘é€æ–¹æ¯æ”¶åˆ°ä¸€ä¸ª <code>ACK</code>ï¼Œæ‹¥å¡çª—å£ <code>cwnd</code> çš„å¤§å°å°±ä¼šåŠ  <code>1</code></strong>, å‘åŒ…çš„ä¸ªæ•°æ˜¯<strong>æŒ‡æ•°æ€§çš„å¢é•¿</strong></p>
<ul>
<li>æ…¢å¯åŠ¨é—¨é™ <code>ssthresh</code> ï¼ˆ<code>slow start threshold</code>ï¼‰çŠ¶æ€å˜é‡ï¼Œé»˜è®¤ <code>65535</code> å¤§å°ã€‚<ul>
<li><code>cwnd</code> &lt; <code>ssthresh</code> æ—¶ï¼Œä½¿ç”¨<strong>æ…¢å¯åŠ¨ç®—æ³•</strong>ã€‚</li>
<li><code>cwnd</code> &gt;&#x3D; <code>ssthresh</code> æ—¶ï¼Œå°±ä¼šä½¿ç”¨<strong>æ‹¥å¡é¿å…ç®—æ³•</strong>ã€‚</li>
</ul>
</li>
</ul>
<h2 id="æ‹¥å¡é¿å…"><a href="#æ‹¥å¡é¿å…" class="headerlink" title="æ‹¥å¡é¿å…"></a>æ‹¥å¡é¿å…</h2><p><strong>æ¯å½“æ”¶åˆ°ä¸€ä¸ª <code>ACK</code> æ—¶ï¼Œ<code>cwnd</code> å¢åŠ  <code>1/cwnd</code></strong>, å‘åŒ…çš„ä¸ªæ•°æ˜¯<strong>çº¿æ€§çš„å¢é•¿</strong></p>
<h2 id="æ‹¥å¡å‘é€"><a href="#æ‹¥å¡å‘é€" class="headerlink" title="æ‹¥å¡å‘é€"></a>æ‹¥å¡å‘é€</h2><h2 id="å¿«é€Ÿæ¢å¤"><a href="#å¿«é€Ÿæ¢å¤" class="headerlink" title="å¿«é€Ÿæ¢å¤"></a>å¿«é€Ÿæ¢å¤</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yngty.github.io/2023/07/24/network/%E5%A6%82%E4%BD%95%E6%AD%A3%E7%A1%AE%E4%BD%BF%E7%94%A8TCP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="yngty">
      <meta itemprop="description" content="é¢„æµ‹æœªæ¥çš„æœ€å¥½æ–¹å¼å°±æ˜¯å®ç°å®ƒ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Symbol Crash">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/24/network/%E5%A6%82%E4%BD%95%E6%AD%A3%E7%A1%AE%E4%BD%BF%E7%94%A8TCP/" class="post-title-link" itemprop="url">å¦‚ä½•æ­£ç¡®ä½¿ç”¨TCP</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-07-24 15:12:44" itemprop="dateCreated datePublished" datetime="2023-07-24T15:12:44+00:00">2023-07-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-08-19 05:41:18" itemprop="dateModified" datetime="2023-08-19T05:41:18+00:00">2023-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Network/" itemprop="url" rel="index"><span itemprop="name">Network</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>491</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>2 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="SO-REUSEADDR"><a href="#SO-REUSEADDR" class="headerlink" title="SO_REUSEADDR"></a>SO_REUSEADDR</h1><ul>
<li><code>TCP</code> æœåŠ¡å™¨èƒ½å¤Ÿåœ¨æ€æ‰æˆ–å´©æºƒåå¿«é€Ÿé‡å¯</li>
<li>ä¹Ÿé€‚ç”¨ <code>fork-per-connection</code> æœåŠ¡å™¨æ¨¡å‹ã€‚</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> optval = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">setsockopt</span>(sockfd, SOL_SOCKET, SO_REUSEADDR, &amp;optval, <span class="built_in">sizeof</span>(optval));</span><br></pre></td></tr></table></figure>
<h1 id="å¿½ç•¥-SIGPIPE"><a href="#å¿½ç•¥-SIGPIPE" class="headerlink" title="å¿½ç•¥ SIGPIPE"></a>å¿½ç•¥ SIGPIPE</h1><p>ç¨‹åºå‘å¯¹æ–¹å·²ç»å…³é—­çš„ç®¡é“ï¼Œå†™æ•°æ®ï¼Œä¼šæ”¶åˆ° <code>SIGPIPE</code> ä¿¡å·ã€‚<code>write</code> ç³»ç»Ÿè°ƒç”¨è¿”å› <code>-1</code>æ”¶åˆ° <code>errono EPIPE</code>ã€‚ <code>SIGPIPE</code> ä¿¡å·é»˜è®¤è¡Œä¸ºç»ˆæ­¢è¿›ç¨‹ã€‚æˆ‘ä»¬åº”è¯¥å¿½ç•¥ <code>SIGPIPE</code> ä¿¡å·ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">signal</span>(SIGPIPE, SIG_IGN) == SIG_ERR) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/07/24/network/%E5%A6%82%E4%BD%95%E6%AD%A3%E7%A1%AE%E4%BD%BF%E7%94%A8TCP/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yngty.github.io/2023/07/24/network/socket-%E7%BC%96%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="yngty">
      <meta itemprop="description" content="é¢„æµ‹æœªæ¥çš„æœ€å¥½æ–¹å¼å°±æ˜¯å®ç°å®ƒ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Symbol Crash">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/24/network/socket-%E7%BC%96%E7%A8%8B/" class="post-title-link" itemprop="url">socket ç¼–ç¨‹</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-07-24 10:38:44" itemprop="dateCreated datePublished" datetime="2023-07-24T10:38:44+00:00">2023-07-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-08-19 05:41:18" itemprop="dateModified" datetime="2023-08-19T05:41:18+00:00">2023-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Network/" itemprop="url" rel="index"><span itemprop="name">Network</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>1.9k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>7 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1-socketåœ°å€ç»“æ„"><a href="#1-socketåœ°å€ç»“æ„" class="headerlink" title="1. socketåœ°å€ç»“æ„"></a>1. socketåœ°å€ç»“æ„</h1><h2 id="sockaddr-in"><a href="#sockaddr-in" class="headerlink" title="sockaddr_in"></a><code>sockaddr_in</code></h2><p><code>ipv4</code> åè®®çš„åœ°å€ç»“æ„æ˜¯ <code>sockaddr_in</code>ï¼Œ<code>ipv6</code> çš„åœ°å€ç»“æ„æ˜¯<code>sockaddr_in6</code>ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;arpa/inet.h&gt;</span></span></span><br><span class="line"><span class="comment">//#include&lt;netinet/in.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">sa_family_t</span>     sin_family;</span><br><span class="line">    <span class="type">in_port_t</span>       sin_port;	    <span class="comment">/* Port number.  */</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">in_addr</span>  <span class="title">sin_addr</span>;</span>		<span class="comment">/* Internet address.  */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Pad to size of `struct sockaddr&#x27;.  */</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> sin_zero[<span class="keyword">sizeof</span> (<span class="keyword">struct</span> sockaddr) -</span><br><span class="line">            __SOCKADDR_COMMON_SIZE -</span><br><span class="line">            <span class="keyword">sizeof</span> (<span class="type">in_port_t</span>) -</span><br><span class="line">            <span class="keyword">sizeof</span> (<span class="keyword">struct</span> in_addr)];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>sin_family</code>ï¼šè¡¨ç¤ºåœ°å€ç°‡ï¼Œ<code>ipv4: AF_INET, ipv6: AF_INET6</code>ï¼Œ</li>
<li><code>sin_port</code>ï¼š16ä½çš„ç«¯å£å·</li>
<li><code>sin_addr</code>ï¼šç‚¹åˆ†åè¿›åˆ¶ã€‚</li>
</ul>
<h2 id="é€šç”¨åœ°å€ç»“æ„"><a href="#é€šç”¨åœ°å€ç»“æ„" class="headerlink" title="é€šç”¨åœ°å€ç»“æ„"></a>é€šç”¨åœ°å€ç»“æ„</h2><p>ç»“æ„ä½“æ˜¯ <code>sockaddr</code>ï¼Œæ–¹ä¾¿å¯ä»¥æ¥å— <code>ipv4/ipv6</code> çš„åœ°å€ç»“æ„ã€‚ä¹‹æ‰€ä»¥é‡‡ç”¨ <code>sockaddr</code>ï¼Œè€Œä¸é‡‡ç”¨ <code>void*</code>  æ˜¯å› ä¸º <code>BSD</code> è®¾è®¡å¥—æ¥å­—çš„æ—¶å€™å¤§çº¦æ˜¯ <code>1982</code> å¹´ï¼Œé‚£ä¸ªæ—¶å€™çš„ <code>C</code> è¯­è¨€è¿˜æ²¡æœ‰<code>void *</code> çš„æ”¯æŒã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sockaddr</span> &#123;</span></span><br><span class="line">    <span class="type">sa_family_t</span>  sa_family;</span><br><span class="line">    <span class="type">char</span>         ss_data[<span class="number">14</span>];</span><br><span class="line">&#125;;  </span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/07/24/network/socket-%E7%BC%96%E7%A8%8B/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yngty.github.io/2023/07/19/network/tcpdump-%E6%8A%93%E5%8C%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="yngty">
      <meta itemprop="description" content="é¢„æµ‹æœªæ¥çš„æœ€å¥½æ–¹å¼å°±æ˜¯å®ç°å®ƒ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Symbol Crash">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/19/network/tcpdump-%E6%8A%93%E5%8C%85/" class="post-title-link" itemprop="url">tcpdump æŠ“åŒ…</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-07-19 13:49:02" itemprop="dateCreated datePublished" datetime="2023-07-19T13:49:02+00:00">2023-07-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-08-19 05:41:18" itemprop="dateModified" datetime="2023-08-19T05:41:18+00:00">2023-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Network/" itemprop="url" rel="index"><span itemprop="name">Network</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>74</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>1 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><code>tcpdump</code> å‘½ä»¤è¡ŒæŠ“åŒ…å·¥å…·ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">tcpdump [ -AbdDefhHIJKlLnNOpqStuUvxX# ] [ -B buffer_size ]</span><br><span class="line">        [ -c count ] [ --count ] [ -C file_size ]</span><br><span class="line">        [ -E spi@ipaddr algo:secret,...  ]</span><br><span class="line">        [ -F file ] [ -G rotate_seconds ] [ -i interface ]</span><br><span class="line">        [ --immediate-mode ] [ -j tstamp_type ] [ -k (metadata_arg) ]</span><br><span class="line">        [ -m module ]</span><br><span class="line">        [ -M secret ] [ --number ] [ --print ]</span><br><span class="line">        [ -Q packet-metadata-filter ] [ -Q in|out|inout ]</span><br><span class="line">        [ -r file ] [ -s snaplen ] [ -T type ] [ --version ]</span><br><span class="line">        [ -V file ] [ -w file ] [ -W filecount ] [ -y datalinktype ]</span><br><span class="line">        [ -z postrotate-command ] [ -Z user ]</span><br><span class="line">        [ --time-stamp-precision=tstamp_precision ]</span><br><span class="line">        [ --micro ] [ --nano ]</span><br><span class="line">        [ expression ]</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yngty.github.io/2023/07/17/network/http%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="yngty">
      <meta itemprop="description" content="é¢„æµ‹æœªæ¥çš„æœ€å¥½æ–¹å¼å°±æ˜¯å®ç°å®ƒ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Symbol Crash">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/17/network/http%E5%8D%8F%E8%AE%AE/" class="post-title-link" itemprop="url">httpåè®®</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-07-17 11:42:24" itemprop="dateCreated datePublished" datetime="2023-07-17T11:42:24+00:00">2023-07-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-08-19 05:41:18" itemprop="dateModified" datetime="2023-08-19T05:41:18+00:00">2023-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Network/" itemprop="url" rel="index"><span itemprop="name">Network</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>509</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>2 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="HTTP-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#HTTP-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="HTTP æ˜¯ä»€ä¹ˆï¼Ÿ"></a>HTTP æ˜¯ä»€ä¹ˆï¼Ÿ</h1><p><code>HTTP</code> æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¹Ÿå°±æ˜¯ <code>HyperText Transfer Protocol</code>ã€‚</p>
<h1 id="URI-çš„å®Œæ•´å›¾è§£"><a href="#URI-çš„å®Œæ•´å›¾è§£" class="headerlink" title="URI çš„å®Œæ•´å›¾è§£"></a>URI çš„å®Œæ•´å›¾è§£</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  foo://example.com:8042/over/there?name=ferret#nose</span><br><span class="line">  \_/   \______________/\_________/ \_________/ \__/</span><br><span class="line">   |           |            |            |        |</span><br><span class="line">scheme     authority       path        query   fragment</span><br><span class="line">   |   _____________________|__</span><br><span class="line">  / \ /                        \</span><br><span class="line">  urn:example:animal:ferret:nose</span><br></pre></td></tr></table></figure>

<h1 id="æ¶ˆæ¯æ ¼å¼"><a href="#æ¶ˆæ¯æ ¼å¼" class="headerlink" title="æ¶ˆæ¯æ ¼å¼"></a>æ¶ˆæ¯æ ¼å¼</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">start-line</span><br><span class="line">*( header-field CRLF )</span><br><span class="line">CRLF</span><br><span class="line">[ message-body ]</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/07/17/network/http%E5%8D%8F%E8%AE%AE/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yngty.github.io/2023/04/10/c++/%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0%E6%A8%A1%E6%9D%BF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="yngty">
      <meta itemprop="description" content="é¢„æµ‹æœªæ¥çš„æœ€å¥½æ–¹å¼å°±æ˜¯å®ç°å®ƒ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Symbol Crash">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/04/10/c++/%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0%E6%A8%A1%E6%9D%BF/" class="post-title-link" itemprop="url">å¯å˜å‚æ•°æ¨¡æ¿</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-04-10 10:21:36" itemprop="dateCreated datePublished" datetime="2023-04-10T10:21:36+00:00">2023-04-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-08-19 05:41:18" itemprop="dateModified" datetime="2023-08-19T05:41:18+00:00">2023-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C-C/" itemprop="url" rel="index"><span itemprop="name">C/C++</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>181</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>1 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="å¯å˜å‚æ•°æ¨¡æ¿çš„éœ€æ±‚"><a href="#å¯å˜å‚æ•°æ¨¡æ¿çš„éœ€æ±‚" class="headerlink" title="å¯å˜å‚æ•°æ¨¡æ¿çš„éœ€æ±‚"></a>å¯å˜å‚æ•°æ¨¡æ¿çš„éœ€æ±‚</h1><ul>
<li>è¦åœ¨æ¨¡æ¿å‚æ•°åˆ—è¡¨ä¸­æŒ‡å®šä¸€ç»„å‚æ•°ï¼Œå¦‚ <code>typename...Args</code>ï¼Œè¿™ç§°ä¸ºæ¨¡æ¿å‚æ•°åŒ…ã€‚å¯ä»¥ä¸ºç±»å‹æ¨¡ æ¿ã€éç±»å‹æ¨¡æ¿å’ŒåŒé‡æ¨¡æ¿å‚æ•°å®šä¹‰çš„æ¨¡æ¿å‚æ•°åŒ…ã€‚</li>
<li>å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­æŒ‡å®šä¸€ç»„å‚æ•°ï¼Œå¦‚ <code>Args...args</code>ï¼Œè¿™ç§°ä¸ºå‡½æ•°å‚æ•°åŒ…ã€‚</li>
<li>å‡½æ•°ä½“ä¸­å±•å¼€åŒ…ï¼Œå¦‚åœ¨ <code>args...</code> ä¸­ï¼Œå¯åœ¨ <code>min(args...)</code> ä¸­çœ‹åˆ°ï¼Œè¿™ç§°ä¸ºå‚æ•°åŒ…å±•å¼€ã€‚è¿™ç§å±•å¼€çš„<br>ç»“æœæ˜¯ä¸€ä¸ªç”±é›¶ä¸ªæˆ–å¤šä¸ªå€¼ (æˆ–è¡¨è¾¾å¼) ç»„æˆçš„é€—å·åˆ†éš”åˆ—è¡¨ã€‚</li>
</ul>
<h1 id="å¯å˜å‚æ•°å‡½æ•°æ¨¡æ¿"><a href="#å¯å˜å‚æ•°å‡½æ•°æ¨¡æ¿" class="headerlink" title="å¯å˜å‚æ•°å‡½æ•°æ¨¡æ¿"></a>å¯å˜å‚æ•°å‡½æ•°æ¨¡æ¿</h1><h1 id="å‚æ•°åŒ…"><a href="#å‚æ•°åŒ…" class="headerlink" title="å‚æ•°åŒ…"></a>å‚æ•°åŒ…</h1><h1 id="å¯å˜å‚æ•°ç±»æ¨¡æ¿"><a href="#å¯å˜å‚æ•°ç±»æ¨¡æ¿" class="headerlink" title="å¯å˜å‚æ•°ç±»æ¨¡æ¿"></a>å¯å˜å‚æ•°ç±»æ¨¡æ¿</h1><h1 id="æŠ˜å è¡¨è¾¾å¼"><a href="#æŠ˜å è¡¨è¾¾å¼" class="headerlink" title="æŠ˜å è¡¨è¾¾å¼"></a>æŠ˜å è¡¨è¾¾å¼</h1><h1 id="å¯å˜å‚æ•°åˆ«åæ¨¡æ¿"><a href="#å¯å˜å‚æ•°åˆ«åæ¨¡æ¿" class="headerlink" title="å¯å˜å‚æ•°åˆ«åæ¨¡æ¿"></a>å¯å˜å‚æ•°åˆ«åæ¨¡æ¿</h1><h1 id="å¯å˜å‚æ•°å˜é‡æ¨¡æ¿"><a href="#å¯å˜å‚æ•°å˜é‡æ¨¡æ¿" class="headerlink" title="å¯å˜å‚æ•°å˜é‡æ¨¡æ¿"></a>å¯å˜å‚æ•°å˜é‡æ¨¡æ¿</h1>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yngty.github.io/2023/04/07/cmake/CMake-%E8%B8%A9%E5%9D%91%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="yngty">
      <meta itemprop="description" content="é¢„æµ‹æœªæ¥çš„æœ€å¥½æ–¹å¼å°±æ˜¯å®ç°å®ƒ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Symbol Crash">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/04/07/cmake/CMake-%E8%B8%A9%E5%9D%91%E8%AE%B0/" class="post-title-link" itemprop="url">CMake è¸©å‘è®°</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-04-07 10:26:10" itemprop="dateCreated datePublished" datetime="2023-04-07T10:26:10+00:00">2023-04-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-08-19 05:41:18" itemprop="dateModified" datetime="2023-08-19T05:41:18+00:00">2023-08-19</time>
              </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>351</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>1 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="install-CODE-å’Œ-execute-process-é…åˆ"><a href="#install-CODE-å’Œ-execute-process-é…åˆ" class="headerlink" title="install(CODE) å’Œ execute_process é…åˆ"></a><code>install(CODE)</code> å’Œ <code>execute_process</code> é…åˆ</h1><h2 id="ç¡®ä¿-WORKING-DIRECTORY-å­˜åœ¨"><a href="#ç¡®ä¿-WORKING-DIRECTORY-å­˜åœ¨" class="headerlink" title="ç¡®ä¿ WORKING_DIRECTORY å­˜åœ¨"></a>ç¡®ä¿ <code>WORKING_DIRECTORY</code> å­˜åœ¨</h2><p>ç¤ºä¾‹ä»£ç : </p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span>(CMAKE_INSTALL_PREFIX <span class="variable">$&#123;PROJECT_BINARY_DIR&#125;</span>/<span class="keyword">export</span>)</span><br><span class="line"><span class="keyword">install</span>(CODE <span class="string">&quot;</span></span><br><span class="line"><span class="string">    execute_process(COMMAND $&#123;CMAKE_COMMAND&#125; -E make_directory folder </span></span><br><span class="line"><span class="string">    WORKING_DIRECTORY \$&#123;CMAKE_INSTALL_PREFIX&#125;)</span></span><br><span class="line"><span class="string">    &quot;</span>) </span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ç¡®ä¿ <code>CMAKE_INSTALL_PREFIX</code> å­˜åœ¨ï¼Œå¯èƒ½æ‰§è¡Œè¿™æ®µä»£ç æ—¶è¿˜æ²¡æœ‰ <code>install target</code> å¯¼è‡´ <code>CMAKE_INSTALL_PREFIX</code> è¿˜æ²¡æœ‰ç”Ÿæˆã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/04/07/cmake/CMake-%E8%B8%A9%E5%9D%91%E8%AE%B0/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yngty.github.io/2023/03/18/macos/%E5%AD%98%E5%82%A8%E5%92%8C%E5%8A%A0%E8%BD%BD%E6%8C%87%E4%BB%A4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="yngty">
      <meta itemprop="description" content="é¢„æµ‹æœªæ¥çš„æœ€å¥½æ–¹å¼å°±æ˜¯å®ç°å®ƒ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Symbol Crash">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/03/18/macos/%E5%AD%98%E5%82%A8%E5%92%8C%E5%8A%A0%E8%BD%BD%E6%8C%87%E4%BB%A4/" class="post-title-link" itemprop="url">å­˜å‚¨å’ŒåŠ è½½æŒ‡ä»¤</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-03-18 23:19:19" itemprop="dateCreated datePublished" datetime="2023-03-18T23:19:19+00:00">2023-03-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-08-19 05:41:18" itemprop="dateModified" datetime="2023-08-19T05:41:18+00:00">2023-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B1%87%E7%BC%96/" itemprop="url" rel="index"><span itemprop="name">æ±‡ç¼–</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>248</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>1 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="å­˜å‚¨å’ŒåŠ è½½æŒ‡ä»¤"><a href="#å­˜å‚¨å’ŒåŠ è½½æŒ‡ä»¤" class="headerlink" title="å­˜å‚¨å’ŒåŠ è½½æŒ‡ä»¤"></a>å­˜å‚¨å’ŒåŠ è½½æŒ‡ä»¤</h3><h4 id="ldr-æŒ‡ä»¤å¯»å€ä¹‹1ï¼š-åœ°å€åç§»æ¨¡å¼-unsigned-offset"><a href="#ldr-æŒ‡ä»¤å¯»å€ä¹‹1ï¼š-åœ°å€åç§»æ¨¡å¼-unsigned-offset" class="headerlink" title="ldr æŒ‡ä»¤å¯»å€ä¹‹1ï¼š åœ°å€åç§»æ¨¡å¼ (unsigned offset)"></a><code>ldr</code> æŒ‡ä»¤å¯»å€ä¹‹1ï¼š åœ°å€åç§»æ¨¡å¼ (<code>unsigned offset</code>)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LDR Xd, [Xn, $offset]</span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆåœ¨ <code>Xn</code> å¯„å­˜å™¨çš„å†…å®¹ä¸ŠåŠ ä¸Šä¸€ä¸ª <code>offset</code> åç§»é‡åä½œä¸ºå†…å­˜åœ°å€ï¼ŒåŠ è½½æ­¤åœ°å€çš„å†…å®¹åˆ° <code>Xd</code> å¯„å­˜å™¨ã€‚</p>
<h4 id="ldr-æŒ‡ä»¤å¯»å€ä¹‹2ï¼š-å˜åŸºæ¨¡å¼"><a href="#ldr-æŒ‡ä»¤å¯»å€ä¹‹2ï¼š-å˜åŸºæ¨¡å¼" class="headerlink" title="ldr æŒ‡ä»¤å¯»å€ä¹‹2ï¼š å˜åŸºæ¨¡å¼"></a><code>ldr</code> æŒ‡ä»¤å¯»å€ä¹‹2ï¼š å˜åŸºæ¨¡å¼</h4><ul>
<li>å‰å˜åŸºæ¨¡å¼ï¼ˆ<code>pre-index</code> æ¨¡å¼ï¼‰ï¼š å…ˆæ›´æ–°åç§»åœ°å€ç„¶åå†è®¿é—®å†…å­˜ã€‚</li>
<li>åå˜åŸºæ¨¡å¼ï¼ˆ<code>post-index</code> æ¨¡å¼ï¼‰ï¼šå…ˆè®¿é—®å†…å­˜åœ°å€ç„¶åå†æ›´æ–°åç§»åœ°å€ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LDR X0, [X1, #8]! // å‰å˜åŸºæ¨¡å¼ã€‚å…ˆæ›´æ–°X1 çš„å€¼ä¸º X1+8ï¼Œç„¶åä¹‰æ–°çš„X1å€¼ä¸ºåœ°å€ï¼ŒåŠ è½½å†…å­˜çš„å€¼åˆ°X0</span><br><span class="line"></span><br><span class="line">LDR X0, [X1], #8  // åå˜åŸºæ¨¡å¼ã€‚ä»¥x1çš„å€¼ä¸ºåœ°å€ï¼ŒåŠ è½½è¯¥å†…å­˜åœ°å€çš„å€¼åˆ°X0ï¼Œç„¶ååœ¨æ›´æ–°X1å¯„å­˜å™¨ä¸ºX1+8</span><br></pre></td></tr></table></figure>

<h4 id="ldr-æŒ‡ä»¤å¯»å€ä¹‹3ï¼š-æ ‡ç­¾ï¼ˆliteralï¼‰"><a href="#ldr-æŒ‡ä»¤å¯»å€ä¹‹3ï¼š-æ ‡ç­¾ï¼ˆliteralï¼‰" class="headerlink" title="ldr æŒ‡ä»¤å¯»å€ä¹‹3ï¼š æ ‡ç­¾ï¼ˆliteralï¼‰"></a><code>ldr</code> æŒ‡ä»¤å¯»å€ä¹‹3ï¼š æ ‡ç­¾ï¼ˆ<code>literal</code>ï¼‰</h4><p>PC + label offset</p>
<h4 id="ldr-ä¼ªæŒ‡ä»¤"><a href="#ldr-ä¼ªæŒ‡ä»¤" class="headerlink" title="ldr ä¼ªæŒ‡ä»¤"></a>ldr ä¼ªæŒ‡ä»¤</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LDR x7, =MY_LABEL</span><br></pre></td></tr></table></figure>

<h4 id="move-æŒ‡ä»¤"><a href="#move-æŒ‡ä»¤" class="headerlink" title="move æŒ‡ä»¤"></a>move æŒ‡ä»¤</h4><ul>
<li>16ä½ç«‹å³æ•°</li>
<li>16ç«‹å³æ•°å·¦ç§»16ï¼Œ32ï¼Œ48ä½</li>
</ul>
<h4 id="å¤šå­—èŠ‚åŠ è½½å’Œå­˜å‚¨æŒ‡ä»¤-ldp-å’Œstp"><a href="#å¤šå­—èŠ‚åŠ è½½å’Œå­˜å‚¨æŒ‡ä»¤-ldp-å’Œstp" class="headerlink" title="å¤šå­—èŠ‚åŠ è½½å’Œå­˜å‚¨æŒ‡ä»¤ ldp å’Œstp"></a>å¤šå­—èŠ‚åŠ è½½å’Œå­˜å‚¨æŒ‡ä»¤ ldp å’Œstp</h4>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yngty.github.io/2023/03/18/macos/ARM64%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="yngty">
      <meta itemprop="description" content="é¢„æµ‹æœªæ¥çš„æœ€å¥½æ–¹å¼å°±æ˜¯å®ç°å®ƒ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Symbol Crash">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/03/18/macos/ARM64%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/" class="post-title-link" itemprop="url">ARM64æ±‡ç¼–å…¥é—¨</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-03-18 15:02:42" itemprop="dateCreated datePublished" datetime="2023-03-18T15:02:42+00:00">2023-03-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-08-19 05:41:18" itemprop="dateModified" datetime="2023-08-19T05:41:18+00:00">2023-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B1%87%E7%BC%96/" itemprop="url" rel="index"><span itemprop="name">æ±‡ç¼–</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>288</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>1 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ARM-æŒ‡ä»¤æ¦‚è¦ä»‹ç»"><a href="#ARM-æŒ‡ä»¤æ¦‚è¦ä»‹ç»" class="headerlink" title="ARM æŒ‡ä»¤æ¦‚è¦ä»‹ç»"></a><code>ARM</code> æŒ‡ä»¤æ¦‚è¦ä»‹ç»</h1><ul>
<li><code>A64</code> æŒ‡ä»¤é›†åªèƒ½è¿è¡Œåœ¨ <code>aarch64</code> ç¯å¢ƒä¸­</li>
<li>æ‰€æœ‰çš„A64æ±‡ç¼–æŒ‡ä»¤éƒ½æ˜¯ <code>32bits</code> å®½</li>
<li><code>A64</code> æ”¯æŒå…¨éƒ¨æ˜¯å¤§å†™æˆ–è€…å…¨éƒ¨æ˜¯å°å†™çš„ä¹¦å†™æ–¹å¼</li>
</ul>
<p>å¯„å­˜å™¨åï¼š</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Size</th>
<th align="left">Encoding</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Wn</td>
<td align="left">32 bits</td>
<td align="left">0-30</td>
<td align="left">Genral-purpose register 0-30</td>
</tr>
<tr>
<td align="left">Xn</td>
<td align="left">64 bits</td>
<td align="left">0-30</td>
<td align="left">Genral-purpose register 0-30</td>
</tr>
<tr>
<td align="left">WZR</td>
<td align="left">32 bits</td>
<td align="left">31</td>
<td align="left">Zero register</td>
</tr>
<tr>
<td align="left">XZR</td>
<td align="left">64 bits</td>
<td align="left">31</td>
<td align="left">Zero register</td>
</tr>
<tr>
<td align="left">WPS</td>
<td align="left">32 bits</td>
<td align="left">31</td>
<td align="left">Current stack pointer</td>
</tr>
<tr>
<td align="left">SP</td>
<td align="left">64 bits</td>
<td align="left">31</td>
<td align="left">Current stack pointer</td>
</tr>
</tbody></table>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/03/18/macos/ARM64%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="yngty"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">yngty</p>
  <div class="site-description" itemprop="description">é¢„æµ‹æœªæ¥çš„æœ€å¥½æ–¹å¼å°±æ˜¯å®ç°å®ƒ</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">50</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/yngty" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;yngty" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:yngty@foxmail.com" title="E-Mail â†’ mailto:yngty@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS â†’ &#x2F;atom.xml"><i class="fa fa-rss fa-fw"></i></a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yngty</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">23k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">1:25</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
